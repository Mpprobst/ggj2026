[gd_scene format=3 uid="uid://ctqqt41poucos"]

[ext_resource type="Texture2D" uid="uid://ckxsht1gin8yh" path="res://sprites/white1080.png" id="1_72lju"]
[ext_resource type="Script" uid="uid://v3265rquuj1s" path="res://scripts/paint_manager.gd" id="1_pnvjf"]
[ext_resource type="Script" uid="uid://cwabhsf4ic5as" path="res://scripts/player_controller.gd" id="2_lkjt4"]
[ext_resource type="Script" uid="uid://1j2uf2jfdflt" path="res://scripts/paintable_surface.gd" id="2_r4e4k"]
[ext_resource type="PackedScene" uid="uid://dnieuv4tyuodq" path="res://prefabs/tape.tscn" id="3_ny0t1"]

[node name="Test" type="Node2D" unique_id=1559331907]

[node name="SubViewportContainer" type="SubViewportContainer" parent="." unique_id=438805184]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -960.0
offset_top = -540.0
offset_right = 960.0
offset_bottom = 540.0
grow_horizontal = 2
grow_vertical = 2

[node name="MainViewport" type="SubViewport" parent="SubViewportContainer" unique_id=585167888]
handle_input_locally = false
canvas_cull_mask = 4293918723
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="Camera2D" type="Camera2D" parent="SubViewportContainer/MainViewport" unique_id=1952142637]

[node name="Background" type="Sprite2D" parent="SubViewportContainer/MainViewport" unique_id=581191951]
texture = ExtResource("1_72lju")
centered = false

[node name="Canvas" type="Sprite2D" parent="SubViewportContainer/MainViewport" unique_id=543270012 node_paths=PackedStringArray("painted_tex")]
modulate = Color(1, 0, 0, 1)
centered = false
script = ExtResource("2_r4e4k")
painted_tex = NodePath(".")

[node name="MaskingViewport" type="SubViewport" parent="SubViewportContainer" unique_id=1301670002]
transparent_bg = true
handle_input_locally = false
canvas_cull_mask = 4293918722
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="Camera2D" type="Camera2D" parent="SubViewportContainer/MaskingViewport" unique_id=339948329]
visibility_layer = 3

[node name="TapeContainer" type="Node2D" parent="SubViewportContainer/MaskingViewport" unique_id=282103972]
visibility_layer = 3

[node name="PlayerController" type="Node2D" parent="SubViewportContainer" unique_id=937662677 node_paths=PackedStringArray("tape_container", "paint_manager")]
position = Vector2(960, 540)
script = ExtResource("2_lkjt4")
tape_prefab = ExtResource("3_ny0t1")
tape_container = NodePath("../MaskingViewport/TapeContainer")
paint_manager = NodePath("../PaintManager")

[node name="PaintManager" type="Node2D" parent="SubViewportContainer" unique_id=738972919 node_paths=PackedStringArray("canvas")]
position = Vector2(960, 540)
script = ExtResource("1_pnvjf")
canvas = NodePath("../MainViewport/Canvas")
